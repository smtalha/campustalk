<Page x:Class="CampusTalk.ChatScreen"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:CampusTalk"
      xmlns:Converters='using:CampusTalk.Converters'
      xmlns:d="http://schemas.microsoft.com/expression/blEND/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
      xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
      mc:Ignorable="d">

    <Page.Resources>
        <Converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <Converters:StatusToColorConverter x:Key="StatusToColorConverter" />
        <Converters:StatusToIndexConverter x:Key="StatusToIndexConverter" />
        <Converters:RecentMessageDateTimeConverter x:Key="RecentMessageDateTimeConverter" />
        <Converters:ConversationDateTimeConverter x:Key="ConversationDateTimeConverter" />
        <Converters:BooleanToFontWeightConverter x:Key="BooleanToFontWeightConverter" />

        <Style x:Key="ListViewItemStyle1"
               TargetType="ListViewItem">
            <Setter Property="FontFamily"
                    Value="{ThemeResource ContentControlThemeFontFamily}" />
            <Setter Property="FontSize"
                    Value="{ThemeResource ControlContentThemeFontSize}" />
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="TabNavigation"
                    Value="Local" />
            <Setter Property="IsHoldingEnabled"
                    Value="True" />
            <Setter Property="Margin"
                    Value="0,0,18,2" />
            <Setter Property="HorizontalContentAlignment"
                    Value="Left" />
            <Setter Property="VerticalContentAlignment"
                    Value="Top" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <ListViewItemPresenter CheckHintBrush="{ThemeResource ListViewItemCheckHintThemeBrush}"
                                               CheckBrush="{ThemeResource ListViewItemCheckThemeBrush}"
                                               ContentMargin="4"
                                               ContentTransitions="{TemplateBinding ContentTransitions}"
                                               CheckSelectingBrush="{ThemeResource ListViewItemCheckSelectingThemeBrush}"
                                               DragForeground="{ThemeResource ListViewItemDragForegroundThemeBrush}"
                                               DragOpacity="{ThemeResource ListViewItemDragThemeOpacity}"
                                               DragBackground="{ThemeResource ListViewItemDragBackgroundThemeBrush}"
                                               DisabledOpacity="{ThemeResource ListViewItemDisabledThemeOpacity}"
                                               FocusBorderBrush="{ThemeResource ListViewItemFocusBorderThemeBrush}"
                                               HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                               Padding="{TemplateBinding Padding}"
                                               PointerOverBackgroundMargin="1"
                                               PlaceholderBackground="{ThemeResource ListViewItemPlaceholderBackgroundThemeBrush}"
                                               PointerOverBackground="{ThemeResource ListViewItemPointerOverBackgroundThemeBrush}"
                                               ReorderHintOffset="{ThemeResource ListViewItemReorderHintThemeOffset}"
                                               SelectedPointerOverBorderBrush="{ThemeResource ListViewItemSelectedPointerOverBorderThemeBrush}"
                                               SelectionCheckMarkVisualEnabled="False"
                                               SelectedForeground="{ThemeResource ListViewItemSelectedForegroundThemeBrush}"
                                               SelectedPointerOverBackground="{ThemeResource ListViewItemSelectedPointerOverBackgroundThemeBrush}"
                                               SelectedBorderThickness="0"
                                               SelectedBackground="{ThemeResource ListViewItemSelectedBackgroundThemeBrush}"
                                               VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="ListViewItemStyle2"
               TargetType="ListViewItem">
            <Setter Property="FontFamily"
                    Value="{ThemeResource ContentControlThemeFontFamily}" />
            <Setter Property="FontSize"
                    Value="{ThemeResource ControlContentThemeFontSize}" />
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="TabNavigation"
                    Value="Local" />
            <Setter Property="IsHoldingEnabled"
                    Value="True" />
            <Setter Property="Margin"
                    Value="0,0,18,2" />
            <Setter Property="HorizontalContentAlignment"
                    Value="Left" />
            <Setter Property="VerticalContentAlignment"
                    Value="Top" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <ListViewItemPresenter CheckHintBrush="{ThemeResource ListViewItemCheckHintThemeBrush}"
                                               CheckBrush="{ThemeResource ListViewItemCheckThemeBrush}"
                                               ContentMargin="4"
                                               ContentTransitions="{TemplateBinding ContentTransitions}"
                                               CheckSelectingBrush="{ThemeResource ListViewItemCheckSelectingThemeBrush}"
                                               DragForeground="{ThemeResource ListViewItemDragForegroundThemeBrush}"
                                               DragOpacity="{ThemeResource ListViewItemDragThemeOpacity}"
                                               DragBackground="{ThemeResource ListViewItemDragBackgroundThemeBrush}"
                                               DisabledOpacity="{ThemeResource ListViewItemDisabledThemeOpacity}"
                                               FocusBorderBrush="{ThemeResource ListViewItemFocusBorderThemeBrush}"
                                               HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                               Padding="{TemplateBinding Padding}"
                                               PointerOverBackgroundMargin="1"
                                               PlaceholderBackground="{ThemeResource ListViewItemPlaceholderBackgroundThemeBrush}"
                                               PointerOverBackground="{ThemeResource ListViewItemPointerOverBackgroundThemeBrush}"
                                               ReorderHintOffset="{ThemeResource ListViewItemReorderHintThemeOffset}"
                                               SelectedPointerOverBorderBrush="#FFE24411"
                                               SelectionCheckMarkVisualEnabled="True"
                                               SelectedForeground="{ThemeResource ListViewItemSelectedForegroundThemeBrush}"
                                               SelectedPointerOverBackground="#FFF19229"
                                               SelectedBorderThickness="{ThemeResource ListViewItemCompactSelectedBorderThemeThickness}"
                                               SelectedBackground="#FFF19229"
                                               VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Storyboard x:Name="BuzzAnimation">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)"
                                           Storyboard.TargetName="mainGrid">
                <EasingDoubleKeyFrame KeyTime="0"
                                      Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.05"
                                      Value="-2" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.1"
                                      Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.15"
                                      Value="2" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.2"
                                      Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.25"
                                      Value="-2" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.3"
                                      Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.35"
                                      Value="2" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.4"
                                      Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.45"
                                      Value="-3" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.5"
                                      Value="-0.5" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.55"
                                      Value="2" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.6"
                                      Value="-0.5" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.65"
                                      Value="-3" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.7"
                                      Value="-0.5" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.75"
                                      Value="2" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.8"
                                      Value="-0.5" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.85"
                                      Value="-3" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.9"
                                      Value="-0.5" />
                <EasingDoubleKeyFrame KeyTime="0:0:0.95"
                                      Value="2" />
                <EasingDoubleKeyFrame KeyTime="0:0:1"
                                      Value="-0.5" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
    </Page.Resources>


    <Grid Background="White">

        <MediaElement Name="voiceMessagePlayer"
                      Visibility="Collapsed" />

        <!-- Message Send/Receive Sound-->
        <MediaElement x:Name="messagePop"
                      AudioCategory="Alerts"
                      Source="Assets/Sounds/message-send-receive.wav"
                      AutoPlay="False"
                      Visibility="Collapsed" />
        <!-- Message Send/Receive Sound END-->

        <!-- Buzz Sound-->
        <MediaElement x:Name="buzzSound"
                      AudioCategory="Alerts"
                      Source="Assets/Sounds/buzz.wav"
                      AutoPlay="False"
                      Visibility="Collapsed" />
        <!-- Buzz Sound END-->

        <!-- Main Grid -->
        <Grid x:Name="mainGrid"
              Margin="20,20,20,20"
              RenderTransformOrigin="0.5,0.5">
            <Grid.RenderTransform>
                <CompositeTransform />
            </Grid.RenderTransform>
            <!-- Vertical Division-->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="340" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="340" />
            </Grid.ColumnDefinitions>
            <!-- Vertical Division END-->

            <!-- Horizontal Divisions-->
            <Grid.RowDefinitions>
                <RowDefinition Height="220" />
                <RowDefinition Height="140" />
                <RowDefinition Height="*" />
                <RowDefinition Height="50" />
            </Grid.RowDefinitions>
            <!-- Horizontal Divisions END-->

            <!-- Left Column-->

            <StackPanel x:Name="selectedUserDetails"
                        Grid.Column="0"
                        Grid.RowSpan="2"
                        Visibility="Collapsed">
                <!-- Selected User's Profile Picture Container-->
                <Ellipse Height="200"
                         Width="200"
                         Stroke="#f15a29"
                         StrokeThickness="3"
                         HorizontalAlignment="Center"
                         Grid.Column="0"
                         Margin="0,5,0,0"
                         Tapped="SelectedUserPhotoTapped">
                    <Ellipse.Fill>
                        <ImageBrush x:Name="selectedUserImage"
                                    ImageSource="{Binding MessageUser.ProfilePicture}"
                                    Stretch="UniformToFill" />
                    </Ellipse.Fill>
                </Ellipse>
                <!-- Selected User's Profile Picture Container END-->

                <!-- Selected User's Name-->
                <TextBlock x:Name="selectedUserName"
                           Text="{Binding MessageUser.Name}"
                           Margin="0,20,0,0"
                           FontFamily="Segoe UI"
                           FontSize="32"
                           FontWeight="Light"
                           Foreground="#f15a29"
                           HorizontalAlignment="Center"
                           MaxWidth="300"
                           TextTrimming="CharacterEllipsis"
                           ToolTipService.ToolTip="{Binding MessageUser.Name}" />
                <!-- Selected User's Name END-->

                <!-- Selected User's Status-->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center">
                    <Ellipse x:Name="selectedUserStatusLight"
                             Width="8"
                             Height="8"
                             Fill="{Binding MessageUser.CurrentStatus, Converter={StaticResource StatusToColorConverter}}"
                             VerticalAlignment="Center"
                             Margin="0,2,0,0" />
                    <TextBlock x:Name="selectedUserStatus"
                               Margin="5,0,0,0"
                               Text="{Binding MessageUser.CurrentStatus}"
                               FontFamily="Segoe UI"
                               FontSize="14"
                               FontWeight="Light"
                               Foreground="Gray"
                               VerticalAlignment="Center" />

                </StackPanel>
                <!-- Selected User's Status END-->

                <!-- Selected User Actions-->
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Margin="0,10,0,0">
                    <!-- Contact Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="User Details">
                        <Ellipse x:Name="contactButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="contactButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_contact.png" />

                        <Ellipse x:Name="contactButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="contactButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=contactButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=contactButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=contactButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_contact.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=contactButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=contactButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_contact-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=contactButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=contactButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_contact.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>
                        </Ellipse>

                    </Grid>
                    <!-- Contact Button END-->
                    <!-- Buzz Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="Buzz">
                        <Ellipse x:Name="buzzButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="buzzButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_buzz.png" />

                        <Ellipse x:Name="buzzButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="buzzButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=buzzButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=buzzButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=buzzButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_buzz.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=buzzButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=buzzButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_buzz-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=buzzButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=buzzButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_buzz.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>
                        </Ellipse>

                    </Grid>
                    <!-- Buzz Button END-->
                    <!-- Convo Delete Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="Delete Conversation">
                        <Ellipse x:Name="deleteConvoButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="deleteConvoButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_delete.png" />

                        <Ellipse x:Name="deleteConvoButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="deleteConvoButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=deleteConvoButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=deleteConvoButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=deleteConvoButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_delete.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=deleteConvoButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=deleteConvoButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_delete-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=deleteConvoButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=deleteConvoButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_delete.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>

                            <!-- Confirm Delete Flyout-->
                            <FlyoutBase.AttachedFlyout>
                                <Flyout Placement="Bottom">
                                    <Flyout.FlyoutPresenterStyle>
                                        <Style TargetType="FlyoutPresenter">
                                            <Setter Property="BorderThickness"
                                                    Value="3" />
                                            <Setter Property="BorderBrush"
                                                    Value="#f15a29" />
                                        </Style>
                                    </Flyout.FlyoutPresenterStyle>
                                    <StackPanel>
                                        <TextBlock Text="Are you sure you want to delete this conversation?"
                                                   HorizontalAlignment="Left"
                                                   FontFamily="Segoe UI"
                                                   FontSize="16"
                                                   FontWeight="SemiBold"
                                                   Foreground="Black" />
                                        <Button x:Name="confirmConvoDeleteButton"
                                                Content="Confirm"
                                                RequestedTheme="Light"
                                                HorizontalAlignment="Right"
                                                Margin="0,10,0,0"
                                                FontFamily="Segoe UI"
                                                FontWeight="SemiBold"
                                                Foreground="White"
                                                Background="#f15a29"
                                                BorderBrush="{x:Null}"
                                                BorderThickness="0"
                                                FontSize="14"
                                                Click="confirmConvoDeleteButton_Click" />
                                    </StackPanel>
                                </Flyout>
                            </FlyoutBase.AttachedFlyout>
                            <!-- Confirm Delete Flyout END-->
                        </Ellipse>

                    </Grid>
                    <!-- Convo Delete Button END-->
                </StackPanel>
                <!-- Selected User Actions END-->

            </StackPanel>

            <TextBlock Text="recent >"
                       FontFamily="Segoe UI"
                       FontSize="18"
                       FontWeight="Light"
                       Foreground="Gray"
                       HorizontalAlignment="Left"
                       Margin="5,0,0,0"
                       Grid.Row="2" />
            <!-- Recent Chats-->
            <ListView x:Name="recentMessageList"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Top"
                      Margin="0,25,0,5"
                      SelectionMode="Single"
                      ItemsSource="{Binding}"
                      Grid.Row="2"
                      Grid.RowSpan="2"
                      SelectionChanged="recentMessageList_SelectionChanged"
                      ItemContainerStyle="{StaticResource ListViewItemStyle1}">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <!-- Recent Message Box-->
                        <Grid x:Name="recentMessageBox"
                              Width="320"
                              Height="60"
                              Background="#f15a29"
                              HorizontalAlignment="Center"
                              Margin="0,0,0,0">

                            <StackPanel Orientation="Horizontal"
                                        Margin="8,0,10,0"
                                        VerticalAlignment="Center">
                                <!-- Profile Picture Icon-->
                                <Grid>
                                    <Ellipse Height="50"
                                             Width="50"
                                             HorizontalAlignment="Left">
                                        <Ellipse.Fill>
                                            <ImageBrush x:Name="recentMessageUserImage"
                                                        ImageSource="{Binding MessageUser.ProfilePicture}"
                                                        Stretch="UniformToFill" />
                                        </Ellipse.Fill>
                                    </Ellipse>
                                    <Ellipse Width="15"
                                             Height="15"
                                             Fill="{Binding MessageUser.CurrentStatus, Converter={StaticResource StatusToColorConverter}}"
                                             VerticalAlignment="Bottom"
                                             HorizontalAlignment="Right"
                                             Margin="0,0,2,1.5"
                                             StrokeThickness="2"
                                             Stroke="#f15a29" />
                                </Grid>
                                <!-- Profile Picture Icon END-->
                                <StackPanel Margin="10,0,10,0">
                                    <StackPanel Orientation="Horizontal"
                                                Width="235">
                                        <!-- User's Name-->
                                        <TextBlock x:Name="recentMessageUserName"
                                                   Text="{Binding MessageUser.Name}"
                                                   FontFamily="Segoe UI"
                                                   FontWeight="{Binding LastMessage.UnRead,Converter={StaticResource BooleanToFontWeightConverter}}"
                                                   FontSize="21"
                                                   Foreground="White"
                                                   MaxWidth="165"
                                                   TextTrimming="CharacterEllipsis"
                                                   HorizontalAlignment="Left"
                                                   ToolTipService.ToolTip="{Binding MessageUser.Name}" />
                                        <!-- User's Name END-->
                                    </StackPanel>
                                    <!--Message Preview-->
                                    <TextBlock x:Name="recentMessagePreview"
                                               Text="{Binding LastMessage.Text}"
                                               FontFamily="Segoe UI"
                                               FontWeight="{Binding LastMessage.UnRead,Converter={StaticResource BooleanToFontWeightConverter}}"
                                               FontSize="14"
                                               Foreground="White"
                                               MaxWidth="235"
                                               TextTrimming="CharacterEllipsis"
                                               HorizontalAlignment="Left"
                                               MaxLines="1" />
                                    <!--Message Preview END-->
                                </StackPanel>
                            </StackPanel>
                            <!-- New Recent Message Indicator-->
                            <Ellipse x:Name="recentNewMessageIndicator"
                                     Width="8"
                                     Height="8"
                                     Fill="White"
                                     HorizontalAlignment="Right"
                                     VerticalAlignment="Top"
                                     Margin="0,17,75,0"
                                     Visibility="{Binding LastMessage.UnRead,Converter={StaticResource BooleanToVisibilityConverter}}" />
                            <!-- New Recent Message Indicator END-->
                            <!--Message Time-->
                            <TextBlock x:Name="recentMessageTime"
                                       Text="{Binding LastMessage.TimeStamp, Converter={StaticResource RecentMessageDateTimeConverter}}"
                                       FontFamily="Segoe UI"
                                       FontWeight="{Binding LastMessage.UnRead,Converter={StaticResource BooleanToFontWeightConverter}}"
                                       FontSize="14"
                                       Foreground="White"
                                       VerticalAlignment="Top"
                                       HorizontalAlignment="Right"
                                       Margin="0,10,10,0" />
                            <!--Message Time END-->
                            <Grid x:Name="ListItemMask"
                                  Background="White"
                                  Opacity="{Binding SelectedOpacity}" />
                        </Grid>
                        <!-- Recent Message Box END-->
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <!-- Recent Chats END-->


            <!-- Left Column END-->

            <!-- Column Separator-->
            <Line X1="340"
                  Y1="0"
                  X2="340"
                  Y2="500"
                  Stroke="LightGray"
                  StrokeThickness="1"
                  Grid.Column="0"
                  VerticalAlignment="Center"
                  Grid.RowSpan="4" />
            <!-- Column Separator END-->

            <!-- Right Column-->

            <!-- Column Separator-->
            <Line X1="0"
                  Y1="0"
                  X2="0"
                  Y2="500"
                  StrokeThickness="1"
                  Grid.Column="2"
                  VerticalAlignment="Center"
                  Stroke="LightGray"
                  Grid.RowSpan="4" />
            <!-- Column Separator END-->
            <StackPanel x:Name="loggedInUserActions"
                        Grid.Column="2">
                <!--User Status Details-->
                <Grid>
                    <!-- User's Image Icon-->
                    <Ellipse Height="60"
                             Width="60"
                             Stroke="#f15a29"
                             StrokeThickness="2"
                             HorizontalAlignment="Right"
                             Tapped="LoggedInUserPhotoTapped">
                        <Ellipse.Fill>
                            <ImageBrush x:Name="userIconImage"
                                        ImageSource="{Binding ProfilePicture}"
                                        Stretch="UniformToFill"
                                        AlignmentY="Center"
                                        AlignmentX="Center" />
                        </Ellipse.Fill>
                    </Ellipse>
                    <!-- User's Image Icon END-->
                    <StackPanel HorizontalAlignment="Right"
                                Margin="0,0,70,0">
                        <!-- User's Name-->
                        <TextBlock x:Name="userName"
                                   Text="{Binding Name}"
                                   FontFamily="Segoe UI"
                                   FontSize="24"
                                   FontWeight="Light"
                                   Foreground="DarkSlateGray"
                                   TextTrimming="CharacterEllipsis"
                                   MaxWidth="290"
                                   HorizontalAlignment="Right"
                                   Margin="0,10,0,0" />
                        <!-- User's Name END-->
                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Right">
                            <!-- User's Status Light-->
                            <Ellipse x:Name="userStatusLight"
                                     Width="8"
                                     Height="8"
                                     Fill="{Binding CurrentStatus, Converter={StaticResource StatusToColorConverter}}"
                                     VerticalAlignment="Center"
                                     Margin="0,3,0,0"
                                     HorizontalAlignment="Left" />
                            <!-- User's Status Light END-->
                            <!-- User's Status-->
                            <ComboBox x:Name="userStatus"
                                      Width="90"
                                      Height="20"
                                      FontFamily="Segoe UI"
                                      FontSize="14"
                                      FontWeight="Light"
                                      Foreground="Gray"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Right"
                                      SelectedIndex="{Binding CurrentStatus, Converter={StaticResource StatusToIndexConverter}}"
                                      SelectionChanged="userStatus_SelectionChanged"
                                      ToolTipService.ToolTip="Change Status">
                                <x:String>Online</x:String>
                                <x:String>Busy</x:String>
                            </ComboBox>
                            <!-- User's Status END-->

                        </StackPanel>

                    </StackPanel>
                </Grid>
                <!--User Status Details END-->

                <!-- User Actions-->
                <StackPanel Orientation="Horizontal"
                            Margin="0,20,0,0"
                            HorizontalAlignment="Center">
                    <!-- New Message Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="New Message">
                        <Ellipse x:Name="newMessageButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="newMessageButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_new_message.png" />

                        <Ellipse x:Name="newMessageButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="newMessageButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newMessageButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newMessageButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=newMessageButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_new_message.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newMessageButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=newMessageButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_new_message-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newMessageButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=newMessageButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_new_message.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>
                            <!-- New Message Flyout-->
                            <FlyoutBase.AttachedFlyout>
                                <Flyout Placement="Bottom"
                                        Opened="selectedUserDetailsPopup_Opened"
                                        Closed="selectedUserDetailsPopup_Closed">
                                    <Flyout.FlyoutPresenterStyle>
                                        <Style TargetType="FlyoutPresenter">
                                            <Setter Property="BorderThickness"
                                                    Value="3" />
                                            <Setter Property="BorderBrush"
                                                    Value="#f15a29" />
                                        </Style>
                                    </Flyout.FlyoutPresenterStyle>

                                    <Grid Width="250">
                                        <StackPanel>
                                            <!-- Popup Title-->
                                            <TextBlock Text="New Message"
                                                       FontFamily="Segoe UI"
                                                       FontSize="28"
                                                       FontWeight="Light"
                                                       Foreground="#f15a29"
                                                       HorizontalAlignment="Left"
                                                       Margin="10,10,0,0" />
                                            <!-- Popup Title END-->
                                            <!-- User TextBox-->
                                            <TextBox x:Name="newMessageFlyoutUserBox"
                                                     PlaceholderText="Recipient Name"
                                                     HorizontalAlignment="Left"
                                                     BorderBrush="#f15a29"
                                                     FontFamily="Segoe UI"
                                                     FontWeight="Light"
                                                     Foreground="DarkSlateGray"
                                                     Margin="10,10,0,0"
                                                     Width="230"
                                                     SelectionHighlightColor="#f15a29"
                                                     PreventKeyboardDisplayOnProgrammaticFocus="True"
                                                     TextChanged="newMessageFlyoutUserBox_TextChanged" />
                                            <!-- User TextBox END-->


                                            <ListView x:Name="newMessageFlyoutList"
                                                      SelectionMode="None"
                                                      ItemsSource="{Binding}"
                                                      IsItemClickEnabled="True"
                                                      MaxHeight="250"
                                                      Width="230"
                                                      Visibility="Collapsed"
                                                      HorizontalAlignment="Center"
                                                      ItemClick="newMessageFlyoutList_ItemClick">
                                                <ListView.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Name}"
                                                                   FontFamily="Segoe UI"
                                                                   FontWeight="Medium"
                                                                   FontSize="14"
                                                                   Foreground="DarkSlateGray"
                                                                   MaxWidth="200"
                                                                   TextTrimming="CharacterEllipsis"
                                                                   HorizontalAlignment="Left"
                                                                   Margin="10,5,0,0" />
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>

                                            <!-- Message TextBox-->
                                            <TextBox x:Name="newMessageFlyoutMessageBox"
                                                     PlaceholderText="Message ..."
                                                     HorizontalAlignment="Left"
                                                     BorderBrush="#f15a29"
                                                     FontFamily="Segoe UI"
                                                     FontWeight="Light"
                                                     Foreground="DarkSlateGray"
                                                     Margin="10,10,0,0"
                                                     Width="230"
                                                     Height="100"
                                                     IsSpellCheckEnabled="True"
                                                     TextWrapping="Wrap"
                                                     AcceptsReturn="True"
                                                     SelectionHighlightColor="#f15a29"
                                                     Visibility="Collapsed" />
                                            <!-- User Message END-->

                                            <StackPanel x:Name="newMessageFlyoutActionButtons"
                                                        Orientation="Horizontal"
                                                        HorizontalAlignment="Right"
                                                        Margin="0,10,10,0"
                                                        Visibility="Collapsed">

                                                <!-- Attachments Button-->
                                                <Grid Width="32"
                                                      Height="32"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Left"
                                                      ToolTipService.ToolTip="Send an attachment"
                                                      Margin="0,0,10,0">
                                                    <Ellipse x:Name="attachmentsPopupButton"
                                                             Stroke="#f15a29"
                                                             StrokeThickness="2"
                                                             Width="32"
                                                             Height="32"
                                                             Fill="Transparent"
                                                             VerticalAlignment="Center"
                                                             HorizontalAlignment="Center" />

                                                    <Image x:Name="attachmentsPopupButtonImage"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Center"
                                                           Stretch="None"
                                                           Source="Assets/button_icon_attachments.png" />

                                                    <Ellipse x:Name="attachmentsPopupButtonMask"
                                                             Stroke="#f15a29"
                                                             StrokeThickness="2"
                                                             Width="32"
                                                             Height="32"
                                                             Fill="Transparent"
                                                             VerticalAlignment="Center"
                                                             HorizontalAlignment="Center"
                                                             Tapped="attachmentsPopupButtonMask_Tapped">
                                                        <Interactivity:Interaction.Behaviors>
                                                            <Core:EventTriggerBehavior EventName="PointerEntered">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButton}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <SolidColorBrush Color="#f1d6cd" />
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                            <Core:EventTriggerBehavior EventName="PointerExited">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButton}" />
                                                                <Core:ChangePropertyAction PropertyName="Source"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButtonImage}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <ImageSource>Assets/button_icon_attachments.png</ImageSource>
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                            <Core:EventTriggerBehavior EventName="PointerPressed">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButton}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <SolidColorBrush Color="#FFF15A29" />
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                                <Core:ChangePropertyAction PropertyName="Source"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButtonImage}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <ImageSource>Assets/button_icon_attachments-over.png</ImageSource>
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                            <Core:EventTriggerBehavior EventName="PointerReleased">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButton}" />
                                                                <Core:ChangePropertyAction PropertyName="Source"
                                                                                           TargetObject="{Binding ElementName=attachmentsPopupButtonImage}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <ImageSource>Assets/button_icon_attachments.png</ImageSource>
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                        </Interactivity:Interaction.Behaviors>
                                                    </Ellipse>

                                                </Grid>
                                                <!-- Attachments Button END-->

                                                <!--Message Send Button-->
                                                <Grid Width="52"
                                                      Height="32"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Right"
                                                      ToolTipService.ToolTip="Send">
                                                    <Rectangle x:Name="messageSendPopupButton"
                                                               Stroke="#f15a29"
                                                               StrokeThickness="2"
                                                               Width="52"
                                                               Height="32"
                                                               Fill="#f15a29"
                                                               VerticalAlignment="Center"
                                                               HorizontalAlignment="Center" />

                                                    <Image x:Name="messageSendPopupButtonImage"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Center"
                                                           Stretch="None"
                                                           Source="Assets/button_icon_message_send.png" />

                                                    <Rectangle x:Name="messageSendPopupButtonMask"
                                                               Stroke="#f15a29"
                                                               StrokeThickness="2"
                                                               Width="52"
                                                               Height="32"
                                                               Fill="Transparent"
                                                               VerticalAlignment="Center"
                                                               HorizontalAlignment="Center"
                                                               Tapped="messageSendPopupButtonMask_Tapped">
                                                        <Interactivity:Interaction.Behaviors>
                                                            <Core:EventTriggerBehavior EventName="PointerEntered">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButton}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <SolidColorBrush Color="#f17248" />
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                            <Core:EventTriggerBehavior EventName="PointerExited">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButton}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <SolidColorBrush Color="#f15a29" />
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                                <Core:ChangePropertyAction PropertyName="Source"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButtonImage}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <ImageSource>Assets/button_icon_message_send.png</ImageSource>
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                            <Core:EventTriggerBehavior EventName="PointerPressed">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButton}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <SolidColorBrush Color="#FFFFFF" />
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                                <Core:ChangePropertyAction PropertyName="Source"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButtonImage}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <ImageSource>Assets/button_icon_message_send-over.png</ImageSource>
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                            <Core:EventTriggerBehavior EventName="PointerReleased">
                                                                <Core:ChangePropertyAction PropertyName="Fill"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButton}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <SolidColorBrush Color="#f15a29" />
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                                <Core:ChangePropertyAction PropertyName="Source"
                                                                                           TargetObject="{Binding ElementName=messageSendPopupButtonImage}">
                                                                    <Core:ChangePropertyAction.Value>
                                                                        <ImageSource>Assets/button_icon_message_send.png</ImageSource>
                                                                    </Core:ChangePropertyAction.Value>
                                                                </Core:ChangePropertyAction>
                                                            </Core:EventTriggerBehavior>
                                                        </Interactivity:Interaction.Behaviors>
                                                    </Rectangle>

                                                </Grid>
                                                <!--Message Send Button END-->

                                            </StackPanel>

                                        </StackPanel>
                                    </Grid>
                                </Flyout>
                            </FlyoutBase.AttachedFlyout>
                            <!-- New Message Flyout END-->
                        </Ellipse>

                    </Grid>
                    <!-- New Message Button END-->
                    <!-- New Group Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="New Group Message">
                        <Ellipse x:Name="newGroupButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="newGroupButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_new_group.png" />

                        <Ellipse x:Name="newGroupButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="newGroupButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newGroupButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newGroupButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=newGroupButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_new_group.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newGroupButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=newGroupButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_new_group-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=newGroupButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=newGroupButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_new_group.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>

                            <!-- New Group Message Flyout-->
                            <FlyoutBase.AttachedFlyout>
                                <Flyout Placement="Bottom"
                                        Opened="selectedUserDetailsPopup_Opened"
                                        Closed="selectedUserDetailsPopup_Closed">
                                    <Flyout.FlyoutPresenterStyle>
                                        <Style TargetType="FlyoutPresenter">
                                            <Setter Property="BorderThickness"
                                                    Value="3" />
                                            <Setter Property="BorderBrush"
                                                    Value="#f15a29" />
                                        </Style>
                                    </Flyout.FlyoutPresenterStyle>

                                    <Grid Width="340">
                                        <StackPanel>
                                            <!-- Popup Title-->
                                            <TextBlock Text="Add Users to Group"
                                                       FontFamily="Segoe UI"
                                                       FontSize="28"
                                                       FontWeight="Light"
                                                       Foreground="#f15a29"
                                                       HorizontalAlignment="Left"
                                                       Margin="10,0,0,0" />
                                            <!-- Popup Title END-->
                                            <!-- Filter TextBox-->
                                            <TextBox x:Name="groupMessagePopupFilterBox"
                                                     PlaceholderText="Filter ..."
                                                     HorizontalAlignment="Left"
                                                     BorderBrush="#f15a29"
                                                     FontFamily="Segoe UI"
                                                     FontWeight="Light"
                                                     Foreground="DarkSlateGray"
                                                     Margin="10,10,0,0"
                                                     Width="320"
                                                     TextChanged="groupMessagePopupFilterBox_TextChanged"
                                                     PreventKeyboardDisplayOnProgrammaticFocus="True" />
                                            <!-- Filter TextBox END-->

                                            <!-- List of Available Users-->
                                            <ListView x:Name="groupMessagePopupAvailableUserList"
                                                      Margin="5,5,0,5"
                                                      SelectionMode="Multiple"
                                                      ItemsSource="{Binding}"
                                                      MaxHeight="355"
                                                      SelectionChanged="groupMessagePopupAvailableUserList_SelectionChanged"
                                                      ItemContainerStyle="{StaticResource ListViewItemStyle2}">
                                                <ListView.ItemTemplate>
                                                    <DataTemplate>
                                                        <!-- Available User Box-->
                                                        <Grid Height="50"
                                                              Width="330"
                                                              Margin="0,0,0,0"
                                                              VerticalAlignment="Center"
                                                              x:Name="availableUserListItem"
                                                              HorizontalAlignment="Left">

                                                            <!-- Available Users Separator-->
                                                            <Line X1="0"
                                                                  Y1="0"
                                                                  X2="260"
                                                                  Y2="0"
                                                                  Stroke="LightGray"
                                                                  StrokeThickness="1"
                                                                  VerticalAlignment="Top"
                                                                  HorizontalAlignment="Center" />
                                                            <!-- Available Users Separator END-->
                                                            <StackPanel Orientation="Horizontal"
                                                                        VerticalAlignment="Center"
                                                                        Margin="2,5,0,0">
                                                                <!-- Available User Icon-->
                                                                <Ellipse Height="40"
                                                                         Width="40"
                                                                         HorizontalAlignment="Left"
                                                                         VerticalAlignment="Center">
                                                                    <Ellipse.Fill>
                                                                        <ImageBrush x:Name="groupMessagePopupAvailableUserImage"
                                                                                    ImageSource="{Binding ProfilePicture}"
                                                                                    Stretch="UniformToFill" />
                                                                    </Ellipse.Fill>
                                                                </Ellipse>
                                                                <!-- Available User Icon END-->
                                                                <!-- Available User Name-->
                                                                <TextBlock x:Name="groupMessagePopupAvailableUserName"
                                                                           Text="{Binding Name}"
                                                                           FontFamily="Segoe UI"
                                                                           FontWeight="Light"
                                                                           FontSize="18"
                                                                           Foreground="DarkSlateGray"
                                                                           MaxWidth="230"
                                                                           TextTrimming="CharacterEllipsis"
                                                                           HorizontalAlignment="Left"
                                                                           VerticalAlignment="Center"
                                                                           Margin="10,0,0,2" />
                                                                <!-- Available User Name END-->
                                                            </StackPanel>
                                                            <!-- Available User Status Light-->
                                                            <Ellipse x:Name="groupMessagePopupAvailableUserStatusLight"
                                                                     Width="10"
                                                                     Height="10"
                                                                     Fill="{Binding CurrentStatus, Converter={StaticResource StatusToColorConverter}}"
                                                                     HorizontalAlignment="Right"
                                                                     Margin="0,5,40,0" />
                                                            <!-- Available User Status Light END-->
                                                        </Grid>
                                                        <!-- Available User Box END-->
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                            <!-- List of Available Users END-->

                                            <Button x:Name="groupMessagePopupAddButton"
                                                    Content="Add Selected Users"
                                                    RequestedTheme="Light"
                                                    HorizontalAlignment="Left"
                                                    Margin="10,0,10,0"
                                                    Width="320"
                                                    Height="35"
                                                    FontFamily="Segoe UI"
                                                    FontWeight="SemiLight"
                                                    Foreground="White"
                                                    Background="#f15a29"
                                                    BorderBrush="{x:Null}"
                                                    BorderThickness="0"
                                                    FontSize="16"
                                                    Click="groupMessagePopupAddButton_Click" />

                                        </StackPanel>
                                    </Grid>

                                </Flyout>
                            </FlyoutBase.AttachedFlyout>
                            <!-- New Group Message Flyout END-->
                        </Ellipse>

                    </Grid>
                    <!-- New Group Button END-->
                    <!-- Trending Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="Post what's trending">
                        <Ellipse x:Name="trendingButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="trendingButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_trending.png" />

                        <Ellipse x:Name="trendingButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="trendingButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=trendingButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=trendingButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=trendingButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_trending.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=trendingButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=trendingButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_trending-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=trendingButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=trendingButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_trending.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>

                            <!-- Trending Flyout-->
                            <FlyoutBase.AttachedFlyout>
                                <Flyout Placement="Bottom"
                                        Opened="selectedUserDetailsPopup_Opened"
                                        Closed="selectedUserDetailsPopup_Closed">
                                    <Flyout.FlyoutPresenterStyle>
                                        <Style TargetType="FlyoutPresenter">
                                            <Setter Property="BorderThickness"
                                                    Value="3" />
                                            <Setter Property="BorderBrush"
                                                    Value="#f15a29" />
                                        </Style>
                                    </Flyout.FlyoutPresenterStyle>

                                    <Grid Width="350">
                                        <!-- Popup Title-->
                                        <TextBlock Text="What's hot on campus?"
                                                   FontFamily="Segoe UI"
                                                   FontSize="28"
                                                   FontWeight="Light"
                                                   Foreground="#f15a29"
                                                   HorizontalAlignment="Left" />
                                        <!-- Popup Title END-->
                                        <!-- Message Text Box-->
                                        <TextBox x:Name="trendingBox"
                                                 PlaceholderText="Message ..."
                                                 BorderBrush="#f15a29"
                                                 FontFamily="Segoe UI"
                                                 HorizontalAlignment="Stretch"
                                                 FontWeight="Light"
                                                 Foreground="Black"
                                                 VerticalAlignment="Center"
                                                 Margin="0,50,62,0"
                                                 Height="32"
                                                 IsSpellCheckEnabled="True"
                                                 SelectionHighlightColor="#f15a29"
                                                 PreventKeyboardDisplayOnProgrammaticFocus="True"
                                                 KeyUp="trendingBox_KeyUp" />
                                        <!-- Message Text Box END-->

                                        <!--Message Send Button-->
                                        <Grid Width="52"
                                              Height="32"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Right"
                                              Margin="5,50,0,0"
                                              ToolTipService.ToolTip="Send">
                                            <Rectangle x:Name="trendingSendButton"
                                                       Stroke="#f15a29"
                                                       StrokeThickness="2"
                                                       Width="52"
                                                       Height="32"
                                                       Fill="#f15a29"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center" />

                                            <Image x:Name="trendingSendButtonImage"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"
                                                   Stretch="None"
                                                   Source="Assets/button_icon_message_send.png" />

                                            <Rectangle x:Name="trendingSendButtonMask"
                                                       Stroke="#f15a29"
                                                       StrokeThickness="2"
                                                       Width="52"
                                                       Height="32"
                                                       Fill="Transparent"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center"
                                                       Tapped="trendingSendButtonMask_Tapped">
                                                <Interactivity:Interaction.Behaviors>
                                                    <Core:EventTriggerBehavior EventName="PointerEntered">
                                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                                   TargetObject="{Binding ElementName=trendingSendButton}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <SolidColorBrush Color="#f17248" />
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                    </Core:EventTriggerBehavior>
                                                    <Core:EventTriggerBehavior EventName="PointerExited">
                                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                                   TargetObject="{Binding ElementName=trendingSendButton}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <SolidColorBrush Color="#f15a29" />
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                                   TargetObject="{Binding ElementName=trendingSendButtonImage}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <ImageSource>Assets/button_icon_message_send.png</ImageSource>
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                    </Core:EventTriggerBehavior>
                                                    <Core:EventTriggerBehavior EventName="PointerPressed">
                                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                                   TargetObject="{Binding ElementName=trendingSendButton}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <SolidColorBrush Color="#FFFFFF" />
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                                   TargetObject="{Binding ElementName=trendingSendButtonImage}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <ImageSource>Assets/button_icon_message_send-over.png</ImageSource>
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                    </Core:EventTriggerBehavior>
                                                    <Core:EventTriggerBehavior EventName="PointerReleased">
                                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                                   TargetObject="{Binding ElementName=trendingSendButton}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <SolidColorBrush Color="#f15a29" />
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                                   TargetObject="{Binding ElementName=trendingSendButtonImage}">
                                                            <Core:ChangePropertyAction.Value>
                                                                <ImageSource>Assets/button_icon_message_send.png</ImageSource>
                                                            </Core:ChangePropertyAction.Value>
                                                        </Core:ChangePropertyAction>
                                                    </Core:EventTriggerBehavior>
                                                </Interactivity:Interaction.Behaviors>
                                            </Rectangle>

                                        </Grid>
                                        <!--Message Send Button END-->
                                    </Grid>

                                </Flyout>
                            </FlyoutBase.AttachedFlyout>
                            <!-- Trending Flyout END-->

                        </Ellipse>

                    </Grid>
                    <!-- Trending Button END-->
                    <!-- Settings Button -->
                    <Grid Width="60"
                          Height="60"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="10,0,10,0"
                          ToolTipService.ToolTip="Settings">
                        <Ellipse x:Name="settingsButton"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center" />

                        <Image x:Name="settingsButtonImage"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Stretch="None"
                               Source="Assets/button_icon_settings.png" />

                        <Ellipse x:Name="settingsButtonMask"
                                 Stroke="#f15a29"
                                 StrokeThickness="2"
                                 Width="50"
                                 Height="50"
                                 Fill="Transparent"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Tapped="settingsButtonMask_Tapped">
                            <Interactivity:Interaction.Behaviors>
                                <Core:EventTriggerBehavior EventName="PointerEntered">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=settingsButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#f1d6cd" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerExited">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=settingsButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=settingsButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_settings.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerPressed">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=settingsButton}">
                                        <Core:ChangePropertyAction.Value>
                                            <SolidColorBrush Color="#FFF15A29" />
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=settingsButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_settings-over.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                                <Core:EventTriggerBehavior EventName="PointerReleased">
                                    <Core:ChangePropertyAction PropertyName="Fill"
                                                               TargetObject="{Binding ElementName=settingsButton}" />
                                    <Core:ChangePropertyAction PropertyName="Source"
                                                               TargetObject="{Binding ElementName=settingsButtonImage}">
                                        <Core:ChangePropertyAction.Value>
                                            <ImageSource>Assets/button_icon_settings.png</ImageSource>
                                        </Core:ChangePropertyAction.Value>
                                    </Core:ChangePropertyAction>
                                </Core:EventTriggerBehavior>
                            </Interactivity:Interaction.Behaviors>
                        </Ellipse>

                    </Grid>
                    <!-- Settings Button END-->
                </StackPanel>
                <!-- User Actions END-->
                <!-- active now-->
                <TextBlock Text="active now >"
                           FontFamily="Segoe UI"
                           FontSize="18"
                           FontWeight="Light"
                           Foreground="Gray"
                           HorizontalAlignment="Left"
                           Margin="10,10,0,0" />
                <!-- active now END-->
                <!-- Filter TextBox-->
                <TextBox x:Name="availableUsersFilterBox"
                         PlaceholderText="Filter ..."
                         BorderBrush="#f15a29"
                         FontFamily="Segoe UI"
                         FontWeight="Light"
                         Foreground="DarkSlateGray"
                         Margin="10,5,0,0"
                         HorizontalAlignment="Left"
                         Width="330"
                         TextChanged="availableUsersFilterBox_TextChanged" />
                <!-- Filter TextBox END-->

            </StackPanel>

            <TextBlock x:Name="noneOnlineText"
                       Text="No one's available :("
                       FontFamily="Segoe UI"
                       FontSize="14"
                       FontWeight="Light"
                       Foreground="Gray"
                       HorizontalAlignment="Center"
                       Grid.Row="2"
                       Grid.Column="2"
                       Visibility="Collapsed" />

            <!-- List of Available Users-->
            <ListView x:Name="availableUsersList"
                      Margin="5,5,5,5"
                      SelectionMode="None"
                      ItemsSource="{Binding}"
                      MinHeight="500"
                      Grid.Column="2"
                      Grid.Row="1"
                      Grid.RowSpan="3"
                      IsItemClickEnabled="True"
                      ItemClick="availableUsersList_ItemClick"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Top">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <!-- Available User Box-->
                        <Grid Height="50"
                              Width="330"
                              Margin="0,0,10,0"
                              VerticalAlignment="Center"
                              x:Name="availableUserListItem"
                              HorizontalAlignment="Left">

                            <!-- Available Users Separator-->
                            <Line X1="0"
                                  Y1="0"
                                  X2="280"
                                  Y2="0"
                                  Stroke="LightGray"
                                  StrokeThickness="1"
                                  VerticalAlignment="Top"
                                  HorizontalAlignment="Center" />
                            <!-- Available Users Separator END-->
                            <StackPanel Orientation="Horizontal"
                                        VerticalAlignment="Center"
                                        Margin="0,5,0,0">
                                <!-- Available User Icon-->
                                <Ellipse Height="40"
                                         Width="40"
                                         HorizontalAlignment="Left"
                                         VerticalAlignment="Center">
                                    <Ellipse.Fill>
                                        <ImageBrush x:Name="availableUserImage"
                                                    ImageSource="{Binding ProfilePicture}"
                                                    Stretch="UniformToFill" />
                                    </Ellipse.Fill>
                                </Ellipse>
                                <!-- Available User Icon END-->
                                <!-- Available User Name-->
                                <TextBlock x:Name="availableUserName"
                                           Text="{Binding Name}"
                                           FontFamily="Segoe UI"
                                           FontWeight="Light"
                                           FontSize="18"
                                           Foreground="DarkSlateGray"
                                           MaxWidth="230"
                                           TextTrimming="CharacterEllipsis"
                                           HorizontalAlignment="Left"
                                           VerticalAlignment="Center"
                                           Margin="10,0,0,2" />
                                <!-- Available User Name END-->
                            </StackPanel>
                            <!-- Available User Status Light-->
                            <Ellipse x:Name="availableUserStatusLight"
                                     Width="10"
                                     Height="10"
                                     Fill="{Binding CurrentStatus, Converter={StaticResource StatusToColorConverter}}"
                                     HorizontalAlignment="Right"
                                     Margin="0,5,40,0" />
                            <!-- Available User Status Light END-->
                        </Grid>
                        <!-- Available User Box END-->

                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <!-- List of Available Users END-->

            <!-- Right Column END-->

            <!-- Center Column-->

            <TextBlock x:Name="noConvoSelectedText"
                       Text="No conversation is selected"
                       FontFamily="Segoe UI"
                       FontSize="14"
                       FontWeight="Light"
                       Foreground="Gray"
                       HorizontalAlignment="Center"
                       Grid.Row="2"
                       Grid.Column="1"
                       Visibility="Collapsed" />
            <!-- Conversation View-->
            <ScrollViewer x:Name="ConversationScrollView"
                          Margin="0,10,0,5"
                          Grid.Column="1"
                          Grid.RowSpan="3"
                          MinWidth="500"
                          VerticalScrollBarVisibility="Auto">
                <ItemsControl x:Name="conversationView"
                              ItemsSource="{Binding}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Grid Margin="10,10,15,10">
                                <!-- Received Chat Bubble-->
                                <Grid x:Name="receivedMessageGrid"
                                      MaxWidth="400"
                                      MinHeight="50"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Left"
                                      Visibility="{Binding ReceivedSide, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50" />
                                        <ColumnDefinition Width="10" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <Ellipse Height="40"
                                             Width="40"
                                             Grid.RowSpan="2"
                                             VerticalAlignment="Top"
                                             HorizontalAlignment="Center">
                                        <Ellipse.Fill>
                                            <ImageBrush ImageSource="{Binding MsgUser.ProfilePicture}"
                                                        Stretch="UniformToFill" />
                                        </Ellipse.Fill>
                                    </Ellipse>

                                    <Rectangle Fill="#e6e7e8"
                                               Grid.Column="2"
                                               Grid.RowSpan="4" />

                                    <TextBlock Text="{Binding MsgUser.Name}"
                                               FontFamily="Segoe UI"
                                               FontSize="12"
                                               FontWeight="Bold"
                                               Foreground="SlateGray"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="10,1,10,1"
                                               MaxWidth="320"
                                               TextWrapping="Wrap"
                                               Grid.Row="0"
                                               Grid.Column="2"
                                               Tapped="TextBlock_Tapped" />

                                    <TextBlock Text="{Binding Text}"
                                               FontFamily="Segoe UI"
                                               FontSize="16"
                                               FontWeight="Light"
                                               Foreground="#414042"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="10,2,10,2"
                                               MaxWidth="330"
                                               IsTextSelectionEnabled="True"
                                               TextWrapping="Wrap"
                                               Grid.Row="1"
                                               Grid.Column="2" />
                                    <StackPanel Grid.Column="2"
                                                Grid.Row="2"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Visibility="{Binding IsAttachment, Converter={StaticResource BooleanToVisibilityConverter}}">
                                        <Image Width="160"
                                               Height="160"
                                               Margin="10,0,10,0"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Stretch="Uniform"
                                               Source="{Binding Attachment}"
                                               Visibility="{Binding IsImageProp, Converter={StaticResource BooleanToVisibilityConverter}}"
                                               Tapped="MessagePhotoTapped" />
                                        <Button x:Name="voiceMessageReceivedPlayButton"
                                                Content="Play"
                                                RequestedTheme="Light"
                                                Foreground="White"
                                                Background="SlateGray"
                                                MinWidth="165"
                                                HorizontalAlignment="Center"
                                                Click="voiceMessageReceivedPlayButton_Click"
                                                Visibility="{Binding IsVoiceMsgProp, Converter={StaticResource BooleanToVisibilityConverter}}" />
                                        <Button x:Name="attachmentReceivedSaveButton"
                                                Content="Save"
                                                RequestedTheme="Light"
                                                Foreground="White"
                                                Background="SlateGray"
                                                MinWidth="165"
                                                HorizontalAlignment="Center"
                                                Click="attachmentReceivedSaveButton_Click" />
                                    </StackPanel>

                                    <TextBlock Text="{Binding TimeStamp, Converter={StaticResource ConversationDateTimeConverter}}"
                                               FontFamily="Segoe UI"
                                               FontSize="11"
                                               FontWeight="Light"
                                               Foreground="Gray"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="10,1,10,1"
                                               MaxWidth="320"
                                               IsTextSelectionEnabled="True"
                                               TextWrapping="Wrap"
                                               Grid.Row="3"
                                               Grid.Column="2" />

                                    <Path Grid.Column="1"
                                          Grid.Row="0"
                                          Grid.RowSpan="3"
                                          Data="m 10,0 l -10,6 l 10,6 l 0,-12"
                                          Fill="#e6e7e8"
                                          VerticalAlignment="Top"
                                          Margin="0,15,0,0" />

                                </Grid>
                                <!-- Received Chat Bubble END-->

                                <!-- Sent Chat Bubble-->
                                <Grid x:Name="sentMessageGrid"
                                      MaxWidth="350"
                                      MinHeight="50"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Right"
                                      Visibility="{Binding SentSide, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                        <RowDefinition />
                                    </Grid.RowDefinitions>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="10" />
                                    </Grid.ColumnDefinitions>

                                    <Rectangle Fill="#f15a29"
                                               Grid.RowSpan="3" />

                                    <TextBlock Text="{Binding Text}"
                                               FontFamily="Segoe UI"
                                               FontSize="16"
                                               FontWeight="Light"
                                               Foreground="White"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="10,3,10,3"
                                               MaxWidth="330"
                                               IsTextSelectionEnabled="True"
                                               TextWrapping="Wrap"
                                               Grid.Row="0"
                                               Grid.Column="0" />

                                    <StackPanel Grid.Column="0"
                                                Grid.Row="1"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Visibility="{Binding IsAttachment, Converter={StaticResource BooleanToVisibilityConverter}}">
                                        <Image Width="160"
                                               Height="160"
                                               Margin="10,0,10,0"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Stretch="Uniform"
                                               Source="{Binding Attachment}"
                                               Visibility="{Binding IsImageProp, Converter={StaticResource BooleanToVisibilityConverter}}"
                                               Tapped="MessagePhotoTapped" />
                                        <Button x:Name="voiceMessageSentPlayButton"
                                                Content="Play"
                                                RequestedTheme="Dark"
                                                Foreground="White"
                                                Background="#FFF19229"
                                                BorderBrush="{x:Null}"
                                                MinWidth="165"
                                                HorizontalAlignment="Center"
                                                Click="voiceMessageSentPlayButton_Click"
                                                Visibility="{Binding IsVoiceMsgProp, Converter={StaticResource BooleanToVisibilityConverter}}" />
                                        <Button x:Name="attachmentSentSaveButton"
                                                Content="Save"
                                                RequestedTheme="Dark"
                                                Foreground="White"
                                                Background="#FFF19229"
                                                BorderBrush="{x:Null}"
                                                MinWidth="165"
                                                HorizontalAlignment="Center"
                                                Click="attachmentReceivedSaveButton_Click" />
                                    </StackPanel>

                                    <TextBlock Text="{Binding TimeStamp, Converter={StaticResource ConversationDateTimeConverter}}"
                                               FontFamily="Segoe UI"
                                               FontSize="11"
                                               FontWeight="Light"
                                               Foreground="Wheat"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="10,1,10,1"
                                               MaxWidth="320"
                                               IsTextSelectionEnabled="True"
                                               TextWrapping="Wrap"
                                               Grid.Row="2"
                                               Grid.Column="0" />

                                    <TextBlock Text="{Binding SentToGroupUsers}"
                                               FontFamily="Segoe UI"
                                               FontSize="11"
                                               FontWeight="Light"
                                               Foreground="SlateGray"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Left"
                                               Margin="0,2,0,0"
                                               MaxWidth="120"
                                               IsTextSelectionEnabled="False"
                                               TextWrapping="Wrap"
                                               Grid.Row="3"
                                               Grid.Column="0" />

                                    <Path Grid.Column="1"
                                          Grid.Row="0"
                                          Grid.RowSpan="3"
                                          Data="m 0,0 l 10,6 l -10,6 l 0,-12"
                                          Fill="#f15a29"
                                          VerticalAlignment="Top"
                                          Margin="0,15,0,0" />

                                </Grid>
                                <!-- Sent Chat Bubble END-->
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
            <!-- Conversation View END-->

            <Grid Margin="0,5,0,0"
                  Grid.Column="1"
                  Grid.Row="4">
                <!-- Attachments Button-->
                <Grid Width="32"
                      Height="32"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Left"
                      ToolTipService.ToolTip="Send an attachment"
                      Margin="5,0,0,0">
                    <Ellipse x:Name="attachmentsButton"
                             Stroke="#f15a29"
                             StrokeThickness="2"
                             Width="32"
                             Height="32"
                             Fill="Transparent"
                             VerticalAlignment="Center"
                             HorizontalAlignment="Center" />

                    <Image x:Name="attachmentsButtonImage"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Stretch="None"
                           Source="Assets/button_icon_attachments.png" />

                    <Ellipse x:Name="attachmentsButtonMask"
                             Stroke="#f15a29"
                             StrokeThickness="2"
                             Width="32"
                             Height="32"
                             Fill="Transparent"
                             VerticalAlignment="Center"
                             HorizontalAlignment="Center"
                             Tapped="attachmentsButtonMask_Tapped">
                        <Interactivity:Interaction.Behaviors>
                            <Core:EventTriggerBehavior EventName="PointerEntered">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=attachmentsButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#f1d6cd" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerExited">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=attachmentsButton}" />
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=attachmentsButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_attachments.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerPressed">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=attachmentsButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#FFF15A29" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=attachmentsButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_attachments-over.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerReleased">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=attachmentsButton}" />
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=attachmentsButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_attachments.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                        </Interactivity:Interaction.Behaviors>
                    </Ellipse>

                </Grid>
                <!-- Attachments Button END-->

                <!-- Voice Button-->
                <Grid Width="32"
                      Height="32"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Left"
                      ToolTipService.ToolTip="Send a voice message"
                      Margin="40,0,0,0">
                    <Ellipse x:Name="voiceButton"
                             Stroke="#f15a29"
                             StrokeThickness="2"
                             Width="32"
                             Height="32"
                             Fill="Transparent"
                             VerticalAlignment="Center"
                             HorizontalAlignment="Center" />

                    <Image x:Name="voiceButtonImage"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Stretch="None"
                           Source="Assets/button_icon_voice.png" />

                    <Ellipse x:Name="voiceButtonMask"
                             Stroke="#f15a29"
                             StrokeThickness="2"
                             Width="32"
                             Height="32"
                             Fill="Transparent"
                             VerticalAlignment="Center"
                             HorizontalAlignment="Center"
                             Tapped="voiceButtonMask_Tapped">
                        <Interactivity:Interaction.Behaviors>
                            <Core:EventTriggerBehavior EventName="PointerEntered">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=voiceButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#f1d6cd" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerExited">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=voiceButton}" />
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=voiceButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_voice.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerPressed">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=voiceButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#FFF15A29" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=voiceButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_voice-over.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerReleased">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=voiceButton}" />
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=voiceButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_voice.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                        </Interactivity:Interaction.Behaviors>
                    </Ellipse>

                </Grid>
                <!-- Voice Button END-->

                <!-- Message Text Box-->
                <TextBox x:Name="messageBox"
                         PlaceholderText="Type a message ..."
                         BorderBrush="#f15a29"
                         FontFamily="Segoe UI"
                         FontWeight="Light"
                         Foreground="Black"
                         VerticalAlignment="Center"
                         Margin="75,0,62,0"
                         Height="32"
                         IsSpellCheckEnabled="True"
                         SelectionHighlightColor="#f15a29"
                         PreventKeyboardDisplayOnProgrammaticFocus="True"
                         KeyUp="messageBox_KeyUp" />
                <!-- Message Text Box END-->

                <!--Message Send Button-->
                <Grid Width="52"
                      Height="32"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Right"
                      Margin="5,0,5,0"
                      ToolTipService.ToolTip="Send">
                    <Rectangle x:Name="messageSendButton"
                               Stroke="#f15a29"
                               StrokeThickness="2"
                               Width="52"
                               Height="32"
                               Fill="#f15a29"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center" />

                    <Image x:Name="messageSendButtonImage"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Stretch="None"
                           Source="Assets/button_icon_message_send.png" />

                    <Rectangle x:Name="messageSendButtonMask"
                               Stroke="#f15a29"
                               StrokeThickness="2"
                               Width="52"
                               Height="32"
                               Fill="Transparent"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Tapped="messageSendButtonMask_Tapped">
                        <Interactivity:Interaction.Behaviors>
                            <Core:EventTriggerBehavior EventName="PointerEntered">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=messageSendButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#f17248" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerExited">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=messageSendButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#f15a29" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=messageSendButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_message_send.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerPressed">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=messageSendButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#FFFFFF" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=messageSendButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_message_send-over.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                            <Core:EventTriggerBehavior EventName="PointerReleased">
                                <Core:ChangePropertyAction PropertyName="Fill"
                                                           TargetObject="{Binding ElementName=messageSendButton}">
                                    <Core:ChangePropertyAction.Value>
                                        <SolidColorBrush Color="#f15a29" />
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                                <Core:ChangePropertyAction PropertyName="Source"
                                                           TargetObject="{Binding ElementName=messageSendButtonImage}">
                                    <Core:ChangePropertyAction.Value>
                                        <ImageSource>Assets/button_icon_message_send.png</ImageSource>
                                    </Core:ChangePropertyAction.Value>
                                </Core:ChangePropertyAction>
                            </Core:EventTriggerBehavior>
                        </Interactivity:Interaction.Behaviors>
                    </Rectangle>

                </Grid>
                <!--Message Send Button END-->

            </Grid>
            <!-- Center Column END-->
        </Grid>
        <!-- Main Grid END-->


        <!-- User Details Popup-->
        <Grid x:Name="opacityOver"
              Background="Black"
              Opacity="0.8"
              Visibility="Collapsed" />
        <Popup x:Name="selectedUserDetailsPopup"
               IsOpen="False"
               VerticalAlignment="Center"
               HorizontalAlignment="Center"
               IsLightDismissEnabled="True"
               HorizontalOffset="-300"
               VerticalOffset="-128"
               Opened="selectedUserDetailsPopup_Opened"
               Closed="selectedUserDetailsPopup_Closed">
            <Grid Background="White"
                  Width="600"
                  Height="255"
                  VerticalAlignment="Center"
                  HorizontalAlignment="Center">
                <Rectangle Stroke="#f15a29"
                           StrokeThickness="3" />
                <StackPanel Orientation="Horizontal"
                            Margin="25">
                    <!-- Profile Picture-->
                    <Ellipse Height="180"
                             Width="180"
                             Stroke="#f15a29"
                             StrokeThickness="3"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Top"
                             Grid.Column="0"
                             Tapped="UserDetailsPhotoTapped">
                        <Ellipse.Fill>
                            <ImageBrush x:Name="popupUserImage"
                                        ImageSource="{Binding ProfilePicture}"
                                        Stretch="UniformToFill" />
                        </Ellipse.Fill>
                    </Ellipse>
                    <!-- Profile Picture END-->

                    <StackPanel Margin="25,0,0,0">
                        <!-- User's Name-->
                        <TextBlock x:Name="popupUserFullName"
                                   Text="{Binding Name}"
                                   Margin="0,10,0,0"
                                   FontFamily="Segoe UI"
                                   FontSize="36"
                                   FontWeight="Light"
                                   Foreground="#f15a29"
                                   HorizontalAlignment="Left"
                                   MaxWidth="350"
                                   TextTrimming="CharacterEllipsis"
                                   ToolTipService.ToolTip="{Binding Name}" />
                        <!-- User's Name END-->

                        <!-- Status-->
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Status"
                                       Margin="0,10,0,0"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="Light"
                                       Foreground="Gray"
                                       HorizontalAlignment="Left" />
                            <TextBlock x:Name="popupUserStatus"
                                       Text="{Binding CurrentStatus}"
                                       Margin="70,10,0,0"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="Light"
                                       Foreground="Gray"
                                       HorizontalAlignment="Left" />
                        </StackPanel>
                        <!-- Status END-->

                        <!-- Username-->
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Username"
                                       Margin="0,0,0,0"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="Light"
                                       Foreground="Gray"
                                       HorizontalAlignment="Left" />
                            <TextBlock x:Name="popupUserName"
                                       Text="{Binding Username}"
                                       Margin="44,0,0,0"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="Light"
                                       Foreground="Gray"
                                       HorizontalAlignment="Left"
                                       MaxWidth="200"
                                       TextTrimming="CharacterEllipsis"
                                       ToolTipService.ToolTip="{Binding Username}" />
                        </StackPanel>
                        <!-- Username END-->

                        <!-- Email-->
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Email"
                                       Margin="0,0,0,0"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="Light"
                                       Foreground="Gray"
                                       HorizontalAlignment="Left" />
                            <TextBlock x:Name="popupUserEmail"
                                       Text="{Binding Email}"
                                       Margin="76,0,0,0"
                                       FontFamily="Segoe UI"
                                       FontSize="16"
                                       FontWeight="Light"
                                       Foreground="Gray"
                                       HorizontalAlignment="Left"
                                       MaxWidth="200"
                                       TextTrimming="CharacterEllipsis"
                                       ToolTipService.ToolTip="{Binding Email}" />
                        </StackPanel>
                        <!-- Email END-->

                        <!-- User Action Buttons-->
                        <StackPanel x:Name="selectedUserDetailsPopupActionButtons"
                                    Orientation="Horizontal"
                                    Margin="0,15,0,0">
                            <!-- New Message Button -->
                            <Grid Width="50"
                                  Height="50"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Left"
                                  Margin="0,0,8,0"
                                  ToolTipService.ToolTip="New Message">
                                <Ellipse x:Name="popupNewMessageButton"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center" />

                                <Image x:Name="popupNewMessageButtonImage"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Stretch="None"
                                       Source="Assets/button_icon_new_message.png" />

                                <Ellipse x:Name="popupNewMessageButtonMask"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Tapped="popupNewMessageButtonMask_Tapped">
                                    <Interactivity:Interaction.Behaviors>
                                        <Core:EventTriggerBehavior EventName="PointerEntered">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#f1d6cd" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerExited">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_new_message.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerPressed">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#FFF15A29" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_new_message-over.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerReleased">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupNewMessageButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_new_message.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                    </Interactivity:Interaction.Behaviors>
                                </Ellipse>

                            </Grid>
                            <!-- New Message Button END-->
                            <!-- Buzz Button -->
                            <Grid Width="50"
                                  Height="50"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Margin="8,0,8,0"
                                  ToolTipService.ToolTip="Buzz">
                                <Ellipse x:Name="popupBuzzButton"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center" />

                                <Image x:Name="popupBuzzButtonImage"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Stretch="None"
                                       Source="Assets/button_icon_buzz.png" />

                                <Ellipse x:Name="popupBuzzButtonMask"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Tapped="popupBuzzButtonMask_Tapped">
                                    <Interactivity:Interaction.Behaviors>
                                        <Core:EventTriggerBehavior EventName="PointerEntered">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBuzzButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#f1d6cd" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerExited">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBuzzButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupBuzzButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_buzz.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerPressed">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBuzzButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#FFF15A29" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupBuzzButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_buzz-over.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerReleased">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBuzzButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupBuzzButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_buzz.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                    </Interactivity:Interaction.Behaviors>
                                </Ellipse>

                            </Grid>
                            <!-- Buzz Button END-->
                            <!-- Favourite Button -->
                            <Grid Width="50"
                                  Height="50"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Margin="8,0,8,0"
                                  ToolTipService.ToolTip="Add to favourites">
                                <Ellipse x:Name="popupFavButton"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center" />

                                <Image x:Name="popupFavButtonImage"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Stretch="None"
                                       Source="Assets/button_icon_favourite.png" />

                                <Ellipse x:Name="popupFavButtonMask"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Tapped="popupFavButtonMask_Tapped">
                                    <Interactivity:Interaction.Behaviors>
                                        <Core:EventTriggerBehavior EventName="PointerEntered">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupFavButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#f1d6cd" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerExited">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupFavButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupFavButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_favourite.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerPressed">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupFavButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#FFF15A29" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupFavButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_favourite-over.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerReleased">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupFavButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupFavButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_favourite.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                    </Interactivity:Interaction.Behaviors>
                                </Ellipse>

                            </Grid>
                            <!-- Favourite Button END-->
                            <!-- Block Button -->
                            <Grid Width="50"
                                  Height="50"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Margin="8,0,8,0"
                                  ToolTipService.ToolTip="Block User">
                                <Ellipse x:Name="popupBlockButton"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center" />

                                <Image x:Name="popupBlockButtonImage"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Stretch="None"
                                       Source="Assets/button_icon_block.png" />

                                <Ellipse x:Name="popupBlockButtonMask"
                                         Stroke="#f15a29"
                                         StrokeThickness="2"
                                         Width="50"
                                         Height="50"
                                         Fill="Transparent"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Tapped="popupBlockButtonMask_Tapped">
                                    <Interactivity:Interaction.Behaviors>
                                        <Core:EventTriggerBehavior EventName="PointerEntered">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBlockButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#f1d6cd" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerExited">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBlockButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupBlockButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_block.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerPressed">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBlockButton}">
                                                <Core:ChangePropertyAction.Value>
                                                    <SolidColorBrush Color="#FFF15A29" />
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupBlockButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_block-over.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                        <Core:EventTriggerBehavior EventName="PointerReleased">
                                            <Core:ChangePropertyAction PropertyName="Fill"
                                                                       TargetObject="{Binding ElementName=popupBlockButton}" />
                                            <Core:ChangePropertyAction PropertyName="Source"
                                                                       TargetObject="{Binding ElementName=popupBlockButtonImage}">
                                                <Core:ChangePropertyAction.Value>
                                                    <ImageSource>Assets/button_icon_block.png</ImageSource>
                                                </Core:ChangePropertyAction.Value>
                                            </Core:ChangePropertyAction>
                                        </Core:EventTriggerBehavior>
                                    </Interactivity:Interaction.Behaviors>

                                    <!-- Confirm Block Flyout-->
                                    <FlyoutBase.AttachedFlyout>
                                        <Flyout Placement="Bottom">
                                            <Flyout.FlyoutPresenterStyle>
                                                <Style TargetType="FlyoutPresenter">
                                                    <Setter Property="BorderThickness"
                                                            Value="3" />
                                                    <Setter Property="BorderBrush"
                                                            Value="#f15a29" />
                                                </Style>
                                            </Flyout.FlyoutPresenterStyle>
                                            <Grid>
                                                <StackPanel HorizontalAlignment="Stretch">
                                                    <TextBlock x:Name="confirmBlockUserText"
                                                               HorizontalAlignment="Left"
                                                               FontFamily="Segoe UI"
                                                               FontSize="16"
                                                               FontWeight="SemiBold"
                                                               Foreground="Black" />
                                                    <Button x:Name="confirmBlockUserButton"
                                                            Content="Confirm"
                                                            RequestedTheme="Light"
                                                            HorizontalAlignment="Right"
                                                            Margin="0,10,0,0"
                                                            FontFamily="Segoe UI"
                                                            FontWeight="SemiBold"
                                                            Foreground="White"
                                                            Background="#f15a29"
                                                            BorderBrush="{x:Null}"
                                                            BorderThickness="0"
                                                            FontSize="14"
                                                            Click="confirmBlockUserButton_Click" />
                                                </StackPanel>
                                            </Grid>
                                        </Flyout>
                                    </FlyoutBase.AttachedFlyout>
                                    <!-- Confirm Block Flyout END-->

                                </Ellipse>

                            </Grid>
                            <!-- Block Button END-->
                        </StackPanel>
                        <!-- User Action Buttons END-->
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Popup>
        <!-- User Details Popup END-->

        <!-- Photo Viewer Popup-->
        <Popup x:Name="photoViwerPopup"
               IsOpen="False"
               VerticalAlignment="Center"
               HorizontalAlignment="Center"
               IsLightDismissEnabled="True"
               HorizontalOffset="-450"
               VerticalOffset="-350"
               Opened="selectedUserDetailsPopup_Opened"
               Closed="selectedUserDetailsPopup_Closed">

            <Grid Background="Transparent"
                  Width="900"
                  Height="700"
                  VerticalAlignment="Center"
                  HorizontalAlignment="Center"
                  Tapped="PhotoViewerImageTapped">
                <Image Stretch="Uniform"
                       Source="{Binding}" />
            </Grid>

        </Popup>
        <!-- Photo Viewer Popup END-->

        <!-- Voice Message Popup-->
        <Popup x:Name="voiceMessagePopup"
               IsOpen="False"
               VerticalAlignment="Center"
               HorizontalAlignment="Center"
               IsLightDismissEnabled="True"
               HorizontalOffset="-110"
               VerticalOffset="-110"
               Opened="selectedUserDetailsPopup_Opened"
               Closed="selectedUserDetailsPopup_Closed">

            <Grid Background="Transparent"
                  Width="220"
                  Height="220"
                  VerticalAlignment="Center"
                  HorizontalAlignment="Center">

                <StackPanel>

                    <TextBlock x:Name="recordingTimerText"
                               Text="15"
                               FontFamily="Segoe UI"
                               FontWeight="SemiLight"
                               Foreground="#f15a29"
                               FontSize="48"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Top"
                               Margin="0,10,0,0" />

                    <Grid VerticalAlignment="Center"
                          HorizontalAlignment="Center"
                          Margin="0,10,0,0">

                        <!-- Record Button -->
                        <Grid x:Name="voiceRecordButtonGrid"
                              Width="120"
                              Height="120"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"
                              ToolTipService.ToolTip="Start Recording">
                            <Ellipse x:Name="voiceRecordButton"
                                     Stroke="#f15a29"
                                     StrokeThickness="2"
                                     Width="120"
                                     Height="120"
                                     Fill="Transparent"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Center" />

                            <Image x:Name="voiceRecordButtonImage"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Stretch="None"
                                   Source="Assets/button_icon_record.png" />

                            <Ellipse x:Name="voiceRecordButtonMask"
                                     Stroke="#f15a29"
                                     StrokeThickness="2"
                                     Width="120"
                                     Height="120"
                                     Fill="Transparent"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Center"
                                     Tapped="voiceRecordButtonMask_Tapped">
                                <Interactivity:Interaction.Behaviors>
                                    <Core:EventTriggerBehavior EventName="PointerEntered">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=voiceRecordButton}">
                                            <Core:ChangePropertyAction.Value>
                                                <SolidColorBrush Color="#592b1d" />
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerExited">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=voiceRecordButton}" />
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=voiceRecordButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_record.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerPressed">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=voiceRecordButton}">
                                            <Core:ChangePropertyAction.Value>
                                                <SolidColorBrush Color="#FFF15A29" />
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=voiceRecordButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_record-over.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerReleased">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=voiceRecordButton}" />
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=voiceRecordButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_record.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                </Interactivity:Interaction.Behaviors>
                            </Ellipse>

                        </Grid>
                        <!-- Record Button END-->

                        <!-- Stop Button -->
                        <Grid x:Name="stopButtonGrid"
                              Width="120"
                              Height="120"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"
                              ToolTipService.ToolTip="Stop Recording">
                            <Ellipse x:Name="stopButton"
                                     Stroke="#f15a29"
                                     StrokeThickness="2"
                                     Width="120"
                                     Height="120"
                                     Fill="Transparent"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Center" />

                            <Image x:Name="stopButtonImage"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Stretch="None"
                                   Source="Assets/button_icon_stop.png" />

                            <Ellipse x:Name="stopButtonMask"
                                     Stroke="#f15a29"
                                     StrokeThickness="2"
                                     Width="120"
                                     Height="120"
                                     Fill="Transparent"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Center"
                                     Tapped="stopButtonMask_Tapped">
                                <Interactivity:Interaction.Behaviors>
                                    <Core:EventTriggerBehavior EventName="PointerEntered">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=stopButton}">
                                            <Core:ChangePropertyAction.Value>
                                                <SolidColorBrush Color="#592b1d" />
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerExited">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=stopButton}" />
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=stopButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_stop.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerPressed">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=stopButton}">
                                            <Core:ChangePropertyAction.Value>
                                                <SolidColorBrush Color="#FFF15A29" />
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=stopButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_record-over.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerReleased">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=stopButton}" />
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=stopButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_stop.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                </Interactivity:Interaction.Behaviors>
                            </Ellipse>

                        </Grid>


                        <!-- Voice Send Button -->
                        <Grid x:Name="sendAudioButtonGrid"
                              Width="120"
                              Height="120"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"
                              ToolTipService.ToolTip="Send Audio">
                            <Ellipse x:Name="sendAudioButton"
                                     Stroke="#f15a29"
                                     StrokeThickness="2"
                                     Width="120"
                                     Height="120"
                                     Fill="Transparent"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Center" />

                            <Image x:Name="sendAudioButtonImage"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Stretch="None"
                                   Source="Assets/button_icon_send_audio.png" />

                            <Ellipse x:Name="sendAudioButtonMask"
                                     Stroke="#f15a29"
                                     StrokeThickness="2"
                                     Width="120"
                                     Height="120"
                                     Fill="Transparent"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Center"
                                     Tapped="sendAudioButtonMask_Tapped">
                                <Interactivity:Interaction.Behaviors>
                                    <Core:EventTriggerBehavior EventName="PointerEntered">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=sendAudioButton}">
                                            <Core:ChangePropertyAction.Value>
                                                <SolidColorBrush Color="#592b1d" />
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerExited">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=sendAudioButton}" />
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=sendAudioButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_send_audio.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerPressed">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=sendAudioButton}">
                                            <Core:ChangePropertyAction.Value>
                                                <SolidColorBrush Color="#FFF15A29" />
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=sendAudioButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_send_audio-over.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                    <Core:EventTriggerBehavior EventName="PointerReleased">
                                        <Core:ChangePropertyAction PropertyName="Fill"
                                                                   TargetObject="{Binding ElementName=sendAudioButton}" />
                                        <Core:ChangePropertyAction PropertyName="Source"
                                                                   TargetObject="{Binding ElementName=sendAudioButtonImage}">
                                            <Core:ChangePropertyAction.Value>
                                                <ImageSource>Assets/button_icon_send_audio.png</ImageSource>
                                            </Core:ChangePropertyAction.Value>
                                        </Core:ChangePropertyAction>
                                    </Core:EventTriggerBehavior>
                                </Interactivity:Interaction.Behaviors>
                            </Ellipse>

                        </Grid>
                        <!-- Voice Send Button END-->


                        <ProgressRing x:Name="recordingProgressRing"
                                      IsActive="True"
                                      Height="100"
                                      Width="100"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Center" />

                    </Grid>
                </StackPanel>

            </Grid>

        </Popup>
        <!-- Voice Message Popup END-->

        <!-- Loading UI-->
        <local:ExtendedSplash x:Name="loading"
                              Visibility="Collapsed" />
        <!-- Loading UI End-->
    </Grid>
</Page>
